// Code generated by templ - DO NOT EDIT.

// templ: version: v0.2.543
package view_component_CKEeditor

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import "context"
import "io"
import "bytes"

func showEditor(oldContents string) templ.ComponentScript {
	return templ.ComponentScript{
		Name: `__templ_showEditor_c9ba`,
		Function: `function __templ_showEditor_c9ba(oldContents){// let editor
    if(typeof ckeditor !== 'undefined') {    
        ckeditor
            .create( document.querySelector( '#editor' ))
            .then(newEditor => {
                newEditor.model.document.on( 'change', () => {
                    htmx.find("#res-content").value = newEditor.getData()
                } );
                window.editor = newEditor;
                editor.setData(oldContents)
            })
            .catch( error => {
                console.error( error );
            } );
    }else {
        window.addEventListener('load', function () {
            ckeditor
                .create( document.querySelector( '#editor' ))
                .then(newEditor => {
                    newEditor.model.document.on( 'change', () => {
                        htmx.find("#res-content").value = newEditor.getData()
                    } );
                    window.editor = newEditor;
                    editor.setData(oldContents)
                })
                .catch( error => {
                    console.error( error );
                } );
        })
    }
}`,
		Call:       templ.SafeScript(`__templ_showEditor_c9ba`, oldContents),
		CallInline: templ.SafeScriptInline(`__templ_showEditor_c9ba`, oldContents),
	}
}

func CKEeditor(oldContents string) templ.Component {
	return templ.ComponentFunc(func(ctx context.Context, templ_7745c5c3_W io.Writer) (templ_7745c5c3_Err error) {
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templ_7745c5c3_W.(*bytes.Buffer)
		if !templ_7745c5c3_IsBuffer {
			templ_7745c5c3_Buffer = templ.GetBuffer()
			defer templ.ReleaseBuffer(templ_7745c5c3_Buffer)
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<style>\r\n        .ck-editor__editable_inline {\r\n            min-height: 300px;\r\n        }\r\n    </style><div id=\"editor\"></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = showEditor(oldContents).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if !templ_7745c5c3_IsBuffer {
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteTo(templ_7745c5c3_W)
		}
		return templ_7745c5c3_Err
	})
}
